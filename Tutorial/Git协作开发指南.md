# Git协作开发指南

以命令行讲解为主。

现在有很多Git的图形界面客户端，原理上是一样的，只是把输命令的过程给做成了一个个按钮。

## 概述

使用Git进行协作开发的流程一般是
1. 首先从远程服务器拉取最新的主分支
2. 从主分支创建本地新分支，切换到这个新分支上
3. 按常规的方式进行开发
4. 新分支开发有了进展，在新分支内本地提交
5. 开发测试正常后，切换到主分支，整合，推送

## 1. 拉取
```bash
cd 刚克隆下来的仓库路径/
git pull
```

## 2. 创建并切换到新分支
```bash
cd 刚克隆下来的仓库路径/
git checkout -b 新分支名（自拟）
```

## 3. 开发
切换分支后，先暂时不用管Git，直接按照常规的方法进行开发就行了，不认识Git的时候怎么开发，现在就怎么开发。

## 4. 提交
```bash
cd 刚克隆下来的仓库路径/
git commit -a 需要提交的文件/目录 -m "关于本次提交的说明（自拟）"
```
这样就把开发的成果保存到Git版本管理库中了。
> `需要提交的文件/目录`应该有哪些？
>
> 应该只有源代码。你编译出的内容一是可能存在兼容性问题，比如只能在你的电脑上执行，其他电脑上会出现问题，二是为了保持仓库简洁，出于这两点原因，请不要上传。

> **但是每次手敲文件好麻烦呀！**
> 
> 其实可以把不需要提交的文件/目录名添加到仓库根目录下的`.gitignore`文件中，这样这些文件就会被Git忽略。
> 于是就可以使用这条命令：
> ```bash
> git commit -a -m "关于本次提交的说明（自拟）"
> ```
> 把`需要提交的文件/目录`省略，这代表仓库根目录。
> 这样Git就会把`.gitignore`文件中记录的文件/目录之外的所有文件添加到Git版本管理库中。

## 5. 推送
开发测试正常后，可以切换到主分支，整合，推送。
```
cd 刚克隆下来的仓库路径/
git checkout master
git merge 之前自拟的新分支名
git push
```

> 其实不切换到主分支，直接从新分支上向远程推送也是可以的，命令请查阅Git帮助。但是一般来说整合到主分支推送会更方便一点。
